## 10. InnoDB에서 세컨더리 인덱스를 사용하면 어떤 과정을 거쳐서 데이터를 가져올 수 있을까?

### 🧠 개념 설명
**InnoDB 인덱스 구조**
1. 클러스터드 인덱스
    - 테이블의 PK 기반
    - 리프 노드에 실제 데이터 레코드가 저장이 된다
    - PK 조회만으로 데이터를 바로 가져올 수 있다 -> 커버링 인덱스
 
2. 세컨더리 인덱스
  - 사용자가 만든 일반 인덱스
  - 리프 노드에는 해당 인덱스 컬럼 값 + PK값이 저장되어 있다
  - 다른 데이터는 저장하지 않는다

<br/>

**세컨더리 인덱스 검색 과정**

1. 세컨더리 인덱스 탐색
2. PK 값 추출
3. 클러스터드 인덱스 재탐색
4. 필요한 칼럼 변환

- 이렇게 해서 두번의 인덱스를 거친다

**특징**
- PK를 반드시 포함한다
- 추가 탐색 비용이 든다
- 쓰기 성능 저하가 일어난다

<br/>

**커버링 인덱스**
- 만약 쿼리에서 필요한 컬럼이 세컨더리 인덱스에 모두 포함되어 있다면 PK 재탐색이 불필요하다
- 성능이 높음 

---
### ✅ 한줄로 설명 하기
- 세컨더리 인덱스는 사용자가 만든 일반 인덱스로 인덱스 칼럼 값 과 PK 값이 저장되어 있다. 검색 과정은 우선 세컨더리 인덱스를 탐색하고 만약 필요한 데이터가 세컨더리 인덱스에 있다면 반환하지만 없다면
- PK를 추출해서 클러스터드 인덱스를 재탐색해서 필요한 칼럼을 반환한다
