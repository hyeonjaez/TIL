## 4. 어댑티브 해시 인덱스에서 해시 인덱스가 어떻게 저장되는지 알아보기

### 🧠 개념 설명
- 사용자가 수동으로 생성하는 인덱스가 아님
- InnoDB 스토리지 엔진에서 사용자가 자주 요청하는 데이터에 대해 자동으로 생성하는 인덱스이다.
- 사용자가 자주 요청하는 데이터에 대해 자동으로 생성한다

**저장 방식**
- 저장 위치
  - InnoDB Buffer Pool 내부의 공간에 저장된다
  - 메모리 상에만 존재한다
 
- Key
  - 해시 인덱스의 키는 기존 B Tree 인덱스의 특정 값이다
  - user_id =10 같은 단일 값 조회 패턴이 자주 나오면 user_id값이 해시 키가 된다
 
- Value
  - 해시 인덱스의 값은 해당 키가 가리키는 페이지 이다. -> 페이지 주소
  - 해시 테이블에서 바로 버퍼 풀 페이지 주소를 찾아가기 때문에 B Tree 경로 탐색이 필요 없다
 
- 구조
  - 내부적으로는 해시 테이블 + 해시 버킷 구조이다
  - 해시 버킷으로 충돌하면 LinkedList 체인 구조로 관리된다
 
**특징**
- 범위 검색은 지원하지 않는다
  - =, IN() 처럼 정확히 매칭되는 경우만 쓰인다
  - LIKE, BETWEEN, <, > 등의 범위 조건에는 X
  
**페이지 주소**
- InnoDB 스토리지 엔진은 데이터를 디스크나 메모리에서 관리할 때 가장 작은 단위로 Page를 사용한다 -> 데이터를 저장, 관리하는 최소 단위 블록
- 버퍼 풀에 로드된 각 페이지는 고유한 주소를 갖는다 -> 이 페이지주소를 이용해서 원하는 데이터가 있는 페이지를 버퍼 풀에서 바로 참조할 수 있다



---
### ✅ 한줄로 설명 하기
- 어댑티버 해시 인덱스는 InnoDB가 Buffer pool 에 자주 요청하는 데이터에 대해서 생성하는 인덱스이다.
- 저장 방식은 B Tree 인덱스의 값을 key, 해당 키가 가리키는 페이지 주소를 value 로 저장이 된다
- 해당 key 값을 검색하면 B Tree 탐색을 거치지 않고 곧바로 데이터가 들어 있는 페이지를 찾아갈 수 있다.
