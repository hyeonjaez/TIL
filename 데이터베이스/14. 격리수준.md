## 14. 격리수준

### 🧠 개념 설명
- 여러 트랜잭션이 동시에 처리 될때 특정 트랜잭션이 다른 트랜잭션에서 변경하거나 조회하는 데이터를 볼 수 있게 허용할지 말지를 결정하는 것

**격리되지 않으면 생기는 문제**
- DIRTY READ
  - 다른 트랜잭션이 아직 커밋하지 않은 데이터를 읽는 경우
- NON REPEATABLE READ
  - 같은 조건으로 두번 조회했는데 중간에 다른 트랜잭션이 값을 바꿔서 결과가 달라지는 경우
- PHANTOM READ
  - 다른 트랜잭션에서 수행한 변경 작업에 의해 레코드가 보였다 안보였다하는 현상


**4가지 격리수준**
1. READ UNCOMMITTED
  - DIRTY READ가 발생 한다

2. READ COMMITED
  - DIRTY READ 방지한다 -> 언두 영역 때문에
  - 하지만 NON REPEATABLE READ, PHANTOM READ는 발생한다
  - 오라클 db에서는 기본값

3. REPEATABLE READ
  - NON REPEATABLE READ를 방지해서 한 번 읽은 데이터는 트랜잭션이 끝날때까지 동일하게 보장한다
  - 하지만 PHANTOM READ는 발생한다
  - MySQL InnoDB 기본값

4. SERIALIZABLE
  - 모든 트랜잭션을 순차적으로 실행하는것을 보장한다
  - 위의 문제 전부 방지
  - 동시성이 크게 떨어지고 성능저하가 심하다

<br/>

**동시성**
- 실제로 동시에 실행되지 않아도 여러 작업을 번갈아 가며 실행해서 동시에 실행하는 것 처럼 보이는 것

**병렬성**
- 실제로 여러 작업이 물리적으로 동시에 실행 되는 것
---
### ✅ 한줄로 설명 하기
- 격리수준은 여러 트랜잭션이 동시에 실행될때 특정 트랜잭션이 다른 트랜잭션에서 변경하거나 조회되는 데이터를 볼수있게 허용할지 말지를 허용하는 것이다.
- 격리되지 않으면 3가지 문제점이 있다 Dirty Read, Non Repeatable Read, Phantom Read
- 4가지 격리수준이 있는데
- 가장 낮은 것부터 차례대로 Read Uncommitted는 Dirty Read 문제가 있고
- Read Committed 는 커밋된 데이터만 읽어서 Dirty Read는 방지하지만 나머지 문제들을 가지고 있다
- Repeatable read는 한 번 읽은 데이터는 트랜잭션이 끝날때까지 동일하게 보장해서 Repeatable Read는 방지하지만 Phantom Read의 문제점을 가지고 있다
- Serializable 은 모든 문제을 방지한다 하지만 동시성이 떨어지고 성능저하가 심하게 일어난다
