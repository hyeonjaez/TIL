## 1장 단위 테스트의 목표


**단위 테스트의 목표**
- 소프트웨어 프로젝트의 지속 가능한 성장을 가능하게 하는 것
- 테스트는 코드 리팩터링, 기능 추가 시에도 안정감을 주는 안전망 역할을 해야 한다
- 단위 테스트 작성 시 비용 대비 이득을 고려해야 한다
- 단순히 테스트를 많이 쓰자 보다는 가치 있는 테스트만 유지하자는 접근을 권장한다
- 좋은 테스트와 좋지 않은 테스트를 구분하는 기준도 제시된다
- 유지보수가 어렵거나 자주 깨지는 테스트, 느린 테스트 등은 오히려 해가 될수 있다

<br/>

**테스트 스위트 품질 측정을 위한 커버리지 지표**

- 코드 커버리지와 분기 커버리지 같은 지표가 있다
- 중요한 점은 높은 커버리지 수치가 반드시 좋은 테스트 스위트를 의미하지 않는다
- 커버리지는 나쁜 부정 지표로는 유용하지만 좋은 긍정 지표로는 사용할 수 없다
- 커버리지가 낮으면 확실히 문제가 있지만 커버리지가 100%라고 해서 테스트 품질이 보장되는 것이 아니다

<br/>

- 코드 커버리지 = 실행 코드 라인수 / 전체 라인 수 
- 분기 커버리지 = 통과 분기 / 전체 분기 수

<br/>

- 커버리지 지표의 문제점
  - 테스트 대상 시스템의 모든 가능한 결과를 검증한다고 보장할 수 없다
  - 외부 라이브러리의 코드 경로를 고려할 수 있는 커버리지 지표는 없다

- **시스템의 핵심 부분은 커버리지를 높게 두는 것이 좋지만 이 높은 수준을 요구사항으로 삼는 것은 좋지 않다**

<br/>

**무엇이 성공적인 테스트 스위트를 만드는가?**
- 성공적인 테스트 스위트의 특징:
  - 개발 주기에 통합되어 있다 : 코드가 바뀔 때마다 테스트가 자연스럽게 실행되도록 되어야 한다는 의미
  - 코드 베이스에서 가장 중요한 부분만을 대상으로 한다 : 모든 코드를 테스트 하겠다는 생각보다는 비즈니스 로직처럼 핵심 부분에 집중하자
  - 최소한의 유지비로 최대 가치를 끌어낸다 : 테스트가 너무 많은 유지보수 비용을 요구하면 오히려 해가 될수 있다 유지 관리 비용 대비 효과가 높은 테스트만 남겨야 한다


<br/>

**나의 정리**
- 단위테 테스트의 가장 큰 목적은 단순한 버그 발견이 아닌 소프트웨어 프로젝트의 지속 가능한 성장을 가능하게 하는 것
- 테스트는 리팩터링이나 기능 추가 시에도 개발자가 안정감을 갖고 작업할 수 있게 해주는 안전망이다
- 테스트를 작성할 때는 "가치 있는 테스트를 쓰자"는 접근이 필요하다
- 테스트도 코드다. 그래서 비용 대비 이득을 따져야 한다 유지보수가 어려운 테스트는 자산이 아니라 부채가 된다

