## 아이템 45 - 스트림은 주의해서 사용하라

- 스트림은 선언적, 표현력이 좋은 도구이다
- 하지만 모든 반복문을 스트림으로 바꾸면 오히려 가독성과 안정성이 떨어질수 있다.

<br/>

**스트림**
- 데이터를 처리하는 일련의 단계이다.
- 구성요소
  - 1. 소스
      - 스트림을 생성하는 곳
    2. 중간 연산
      - 스트림을 변환하거나 필터링하는 단계
      - 대표적으로 filter, map, sorted, distinct, flatMap
      - 지연평가가 적용된다 -> 최종 연산이 실행되기 전까지 실제 동작하지 않는다
    3. 최종 연산
      - 파이프라인을 닫고 실제로 결과를 생성하는 단계
      - 이 시점에 스트림이 순회되며 연산이 실행된다
   
**지연 평가**
- 중간 연산은 데이터를 바로 처리하지 않고 연산을 조합해둔 파이프라인만 정의함
- 최종연산이 호출 될때 파이프라인 전체가 평가되어서 데이터가 실제로 흐르기 시작한다.

장점
- 필요없는 데이터는 처리하지 않는다.
- 데이터가 어떻게 흘러갈지 의도가 잘 드러난다.


**스트림을 사용하면 더 좋아지는 경우**
- 원소들의 시퀀스를 일간되게 변환할때
- 원소들의 시퀀스를 필터링 할때
- 원소들의 시퀀스를 하나의 연산을 사용해서 결합할때
- 원소들의 시퀀스를 컬렉션에 모을때
- 원소들의 시퀀스에서 특정 조건을 만족하는 원소를 찾을때

<br/>

**스트림을 억지로 사용할때 나빠지는 경우**
- 반복문에서 break, continue 등 흐름제어가 필요할때
- 외부 상태를 변경해야 할때
- 람다 내부의 체크 예외가 필요 할때
- 복잡한 로직으로 의도가 흐려질때


<br/>

**결국 책에서 말하는것은**
- 반복문이나 스트림 둘중에 고민 할때는 둘다 해보고 더 나은쪽을 택해라

