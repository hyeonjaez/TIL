## 아이템 37 - ordinal 인덱싱 대신 EnumMap을 사용하라

- enum에는 ordinal() 메서드가 있다
- 이 메서드는 각 상수가 선언된 순서를 0부터 반환한다

**ordinal인덱싱의 문제점**
- 가독성 : ordinal 값과 의미가 직접적으로 열결되지 않는다
- enum에 새 값을 추가하거나 순서만 바꿔도 인덱스가 틀어지게된다
- 배열은 그냥 인덱스 정소값을 요구하기 때문에 타입 안정성이 없다
- 잘못된 인덱스로 접근하거나 다른 enum의 ordinal을 사용한다고 해도 컴파일러가 잡아주지 못한다

<br/>

**EnumMap**
- 열거 타입을 키로 쓰는 맵으로 내부적으로 배열로 구현되어 효율적이고 타입 안정성을 보장한다
- 키 타입을 특정 enum으로 고정하고 내부적으로 ordinal을 안전하게 캡슐화해서 타입 안정성을 보장한다

<br/>

**EnumMap 상태전이**
- 어떤 객체나 시스템이 특정 상태에서 다른 상태로 바뀌는 과정
- 상태 전이를 표현할때도 ordinal 인덱싱보다 EnumMap을 쓰면 가독성과 안정성이 훨씬 좋아진다


**장점**
- 잘못된 키 불가
- enum 상수 그대로 써서 의미가 명확하다
- 내부는 배열 기반으로 ordinal 인덱싱과 비슷한 효율
- enum에 값 추가, 순서 변경되어도 안전하다


<br/>

**나의 정리**
- enum에서 배열의 인덱스를 얻기 위해 ordinal을 쓰지말고 타입 안전하고 가독성 좋은 EnumMap을 사용하자 다차원관계는 EnumMap<..., EnumMap<...>>으로 표현하자

