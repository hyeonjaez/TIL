## 2. 쿠키, 세션, 토큰 의 사실과 오해

### 🧠 개념 설명
- 일단 쿠키, 세션, 토큰 모두 Http가  stateless 프로토콜이라는 한계를 극복하고 사용자 상태값을 유지 하기 위한 것들이다.

**쿠키**
- 쿠키는 사용자 브라우저에 저장되는 데이터
- 쿠키에는 만료 기간을 설정할 수 있고 직접 삭제 않는 이상 지속적으로 유이 된다.

**세션**
- 세션은 서버에 저장되는 사용자 상태 정보 이다.
- 사용자가 로그인을 하면 서버는 세션을 저장하고 이를 식별하기 위해 세션 ID를 발급한다.

**❗쿠키, 세션 오해**
- 쿠키와 세션을 완전히 다른 기술로 인식한다 그리고 보통 쿠키 세션의 차이점을 말하라고 하는데 이건 맞지 않는다고 생각한다

💡 이유 
- 세션은 서버에 저장이 된다. 그리고 사용자 식별하기 위해 JSESSIONID라는 값을 쿠키에 담아서 사용자에 저장 된다.
- 세션도 쿠키를 사용하는것이다. 그럼 이게 상관관계가 형성될수 있을까? -> 실제로는 협력 관계이다.
- 그럼 여기에서 의문이 든다. 사용자 식별값을 쿠키에 담는다고 하는데 그럼 쿠키와 같이 브라우저를 닫아도 안사라질까?
  - 그건 아니다 왜냐하면 일반 쿠키는 디스크에 저장이되고 세션 쿠키는 메모리에 저장이되기 때문에 브라우저를 닫으면 사라진다.
  - 그리고 서버 재시작을 하면 메모리 기반이라 사라진다.

<br/>

**토큰**
- 클라이언트에게 발급되는 인증 정보 이다.
- 주로 JWT 형태로 사용되고 클라이언트가 직접 저장하고 요청 시 `Authoriazation` 헤더나 쿠키로 전송한다.
- 저장 위치는 클라이언트이고 쿠키 아니면 로컬 스토리지에 저장이 된다.
- 서버는 토큰을 통해 사용자를 식별하고 별도로 세션을 유지하지 않는다.

---
### ✅ 한줄로 설명 하기

- 세가지 모두 다 HTTP가 stateless 프로토콜이라는 한계를 극복하고 사용자 상태값을 유지하기 위해 사용하는 것들이다.
- 세션은 식별을 위해 쿠키를 사용하고 토큰도 토큰 저장을 위해 쿠키를 사용해서 쿠키와 세션, 쿠키와 토큰은 협력적인 관계이다.
- 세션과 토큰은 인증 방식이고 쿠키는 이를 운반하는 도구이다.
