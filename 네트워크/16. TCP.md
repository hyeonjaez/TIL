## 16. TCP

### 🧠 개념 설명
- TCP/IP 모델에서 3계층인 전송계층에 속한다

**특징**
- 연결 지향적
  - 데이터를 보내기 전에 3-way handshake로 연결을 맺음
- 신뢰성 보장
  - 데이터 손실, 중복, 순서 뒤바뀜을 자동으로 감지하고 재전송하여 보장함
- 흐름제어 (Flow Control)
  - 수신자가 감당할 수 있는 만큼만 데이터를 보냄
- 혼잡 제어 (Congestion Control)
  - 네트워크가 혼잡해지면 전송 속도를 줄임
- 가상회선 패킷 교환
  - 실제 물리적 회선이 아니라 연결된 것처럼 보이는 논리적 경로, 가상회선을 만들어서 패킷을 순서대로 전달한다
- HTTP, FTP, Telnet, SMTP, HTTPS 등의 프로토콜은 전송 계층에서 TCP를 사용한다
 
**장점**
- 데이터 전송의 신뢰성
- 순서 보장
- 오류 제어와 재전송 기능으로 안정적인 통신

**단점**
- 연결 설정 3-way handshake와 종료 4-way handshake에 오버헤드가 발생할수 있다
- 신뢰성을 위한 재전송, 확인 응답으로 인해 속도가 느리다
- 실시간성을 띄는 스트리밍이나 게임에는 적합하지 않다



**흐름 제어 (Flow Control)**
- 송신자가 수신자의 처리 속도를 초과하지 않도록 조절하는 기능이다
- 방식 : 슬라이딩 윈도우
  - 송신자는 수신자가 알려준 윈도우 크기 만큼만 데이터를 보낸다
  - 수신자가 ACK(확인 응답) 를 보내면서 여유 버퍼 크기를 갱신한다
- 목적 : 수신자 버퍼 오버플로우 방지


**혼잡 제어 (Congestion Control)**
- 네트워크 자체가 과부하 상태, 혼자 상태일때 전송 속도를 줄여 전체 네트워크 성능을 유지하는 기능이다
- 알고리즘
    1. Slow Start : 처음에는 천천히 시작하고 네트워크 상태를 보면서 점점 전송량 증가한다
    2. Congestion Avoidance : 혼잡 임계치 도달시에 속도를 완만하게 증가한다
    3. Fast Retransmit : 패킷 손실이 빠르게 감지되면 즉시 재전송한다
    4. Fast Recovery : 네트워크가 완전히 무너졌다고 가정하지 않고 빠르게 회복한다
- 목적 : 네트워크 전체가 마비되지 않도록 전송량을 조절한다

**가상회선 패킷 교환(Virtual Circuit Packet Switching)**
- TCP는 패킷을 보내더라도 연결된 것처럼 보이게 한다
- 갓 패킷은 순서 번호를 가지고 수신 측에서 조립을 한다
- 중간에 패킷이 다른 경로를 지나더라도 결국에는 순서대로 도착하게 보장한다



---
### ✅ 한줄로 설명 하기
- TCP는 신뢰성과 순서를 보장하는 연결 지향형 프로토콜로 흐름제어와 혼잡 제어를 통해서 안정적인 데이터 전송을 담당한다
