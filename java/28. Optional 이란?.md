## 28. Optional ì´ë€?
- null ì„ ì•ˆì „í•˜ê²Œ ë‹¤ë£¨ê¸° ìœ„í•œ í´ë˜ìŠ¤ì´ë‹¤. (NullPointerException ë°©ì§€)
- null ì¼ìˆ˜ ìˆëŠ” ê°’ì„ ì €ì¥í•˜ëŠ” wrapper í´ë˜ìŠ¤ 

### ğŸ§  ê°œë… ì„¤ëª…
ì½”ë“œì™€ í•¨ê»˜ ì£¼ì„ìœ¼ë¡œ ì„¤ëª…ì„ ì‘ì„±í–ˆë‹¤.
```java
        User user = new User(27, "jaehyeon");

        Optional<User> optionalUser = Optional.of(user);
        Optional<User> optionalNull = Optional.empty();
        System.out.println();

        //ifPresent : ê°’ ìˆìœ¼ë©´ Consumer ì‹¤í–‰
        System.out.println("ifPresent");
        optionalUser.ifPresent(u -> System.out.println("ì´ë¦„ : " + u.getName()));
        optionalNull.ifPresent(u -> System.out.println("ì´ë¦„ : " + u.getName()));

        System.out.println();

        //isPresent : ê°’ì´ ì¡´ì¬í•˜ëŠ”ì§€ true/false
        System.out.println("isPresent()");
        System.out.println(optionalUser.isPresent());
        System.out.println(optionalNull.isPresent());

        System.out.println();

        //orElse : ê°’ì´ ì—†ìœ¼ë©´ ì§€ì •ëœ ê°’ì„ ë°˜í™˜
        System.out.println("orElse");
        System.out.println(optionalUser.orElse(new User(0, "ê¸°ë³¸")));

        System.out.println();

        //filter : ì¡°ê±´ì— ë§ìœ¼ë©´ ë°˜í™˜ ì•„ë‹ˆë©´ ë¹„ì–´ìˆëŠ” Optional ì„ ë°˜í™˜
        System.out.println("filter");
        Optional<User> user1 = optionalUser.filter(o -> o.getAge() > 21);
        System.out.println(user1.get());

        System.out.println();

        //or : ê°’ì´ ì—†ìœ¼ë©´ ë‹¤ë¥¸ Optional ì„ ë°˜í™˜
        System.out.println("or");
        Optional<User> or = optionalNull.or(() -> optionalUser);
        System.out.println(or.get());

        System.out.println();

        //map : ê°’ì„ ë³€í™˜í•œë‹¤.
        System.out.println("map");
        Optional<String> name = optionalUser.map(User::getName);
        System.out.println(name.orElseThrow(() -> new RuntimeException()));

        System.out.println();

        //flatMap : í‰ë©´í™” í•œë‹¤.
        System.out.println("flatMap");
        Optional<Integer> age = optionalUser.flatMap(o -> Optional.of(o.getAge()));
        System.out.println(age.get());

        //orElseGet : ì—†ìœ¼ë©´ Supplier í†µí•´ ëŒ€ì²´ê°’ ì œê³µ
        System.out.println("orElseGet");
        System.out.println(name.orElseGet(() -> "null ì´ë‹¤."));


    }


}

class User {
    private int age;
    private String name;

    public User(int age, String name) {
        this.age = age;
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public String getName() {
        return name;
    }

    @Override
    public String toString() {
        final StringBuilder sb = new StringBuilder("User{");
        sb.append("age=").append(age);
        sb.append(", name='").append(name).append('\'');
        sb.append('}');
        return sb.toString();
    }
}
```

<br/>

**ì£¼ì˜ì‚¬í•­**
- Optional ì„ ì‚¬ìš©í•˜ë”ë¼ë„ get()ë¥¼ ë°”ë¡œ ì“°ëŠ” ê²½í–¥ì´ ìˆë‹¤.
- ì´ëŸ¬ë©´ ì•ˆë˜ëŠ” ì´ìœ ê°€ Optionalì€ null ì´ë¼ë„ ë°”ë¡œ get()ë¥¼ í• ìˆ˜ ìˆë‹¤. ë‹¤ì‹œ ë§í•´ ê°•ì œí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
- ê·¸ë¦¬ê³  Optional ì‚¬ìš© ëª©ì ì€ ì´ëŸ° ì½”ë“œë¥¼ í˜¸ì¶œ í•˜ëŠ” ì‚¬ëŒì—ê²Œ ì´ ê°’ì´ ë„ì¼ìˆ˜ë„ ìˆë‹¤ë¼ëŠ” ê²ƒì„ ì•Œë ¤ì£¼ê¸° ìœ„í•´ ì“°ëŠ” ëª©ì ì´ í¬ë‹¤.

---
### âœ… í•œì¤„ë¡œ ì„¤ëª… í•˜ê¸°
- Optionalì€ null ê°’ì„ ì•ˆì „í•˜ê²Œ ë‹¤ë£¨ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§„ í´ë˜ìŠ¤ì´ê³  ê°’ì˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ ëª…í™•í•˜ê²Œ í‘œí˜„í•˜ê³  NPEë¥¼ ì˜ˆë°©í• ìˆ˜ ìˆë‹¤.
