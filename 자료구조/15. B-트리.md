## 15. B-트리

### 🧠 개념 설명

- 데이터베이스와 파일 시스템에서 사용되는 트리 자료구조
- 이진트리를 확장해서 하나의 노드가 가질수 있는 자식 노드의 최대 숫자가 2보다 큰 트리 구조이다.
- 노드의 키는 항상 정렬된 상태로 유지되고 삽입 삭제 시에도 균형이 유지된다

<img width="526" height="239" alt="image" src="https://github.com/user-attachments/assets/66e28b8c-dcd3-4625-96de-13b45453cff2" />

**특징**

1. 노드에는 2개 이상의 데이터가 들어갈 수 있고 항상 오름차순 정렬된 상태로 저장된다

2. 균형을 유지한다

3. 차수 m인 b-트리는 최대 m개의 자식을 가질 수 있다

4. 한노드에서 여러 키를 이진 탐색해서 자식 노드를 선택하므로 디스크 접근 횟수가 줄어듬



**동작 방식**

1. 삽입
  1. 키를 삽입할 리프 노드를 찾는다
  2. 자리가 없으면 노드를 분할하고 중간 키를 부모로 올림
  3. 필요하면 상위 노드까지 분할이 전파


2. 삭제
  1. 리프에서 키 삭제
  2. 최소 키 개수보다 적어지면 형제 노드에서 키를 빌리거나 노드를 병합
  3. 균형이ㅣ 유지되도록 재조정한다


**왜 사용할까?**
- DB나 파일 시스템은 메모리에 모든 데이터를 올릴 수 없고 디스크에서 데이터를 읽어야 한다 -> B 트리는 한번에 많은 키를 읽고 탐색하므로 디스크 I/O를 최소화한다
- AVL 트리 처럼 균형을 유지한다.
- 모든 노드가 정렬 상태라서 범위 검색에 유리하다


**성능**
- 균형 트리라서 O(log N)

**장점**
- 균형 유지
- 대용량 데이터에 적합하다

**단점**
- 메모리에만 올리는 소규모 데이터에서는 과한 설계
- 노드 크기가 커서 메모리 캐시 히트율이 낮을 수 있다

---
### ✅ 한줄로 설명 하기

- B-트리는 디스크 접근을 최소화하고 대규모 데이터에서도 O(log N) 성능을 유지하는 탐색 트리이다.
