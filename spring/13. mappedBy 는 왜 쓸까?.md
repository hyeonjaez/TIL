## 13. mappedBy 는 왜 쓸까? 

### 🧠 개념 설명
- JPA에서 mappedBy는 연관관계의 주인이 아닌 쪽에서 쓰는 속성이다.

**연관관계의 주인**
- 외래키를 실제로 관리하는 엔티티
- DB테이블에서 어떤 쪽이 FK를 들고 있냐
- JPA에서는 양방향 관계를 허용하지만 DB에서는 외래키 하나만 존재한다

**mappedBy**
- 연관관계의 주인이 아님을 표시
- mappedBy가 붙은 쪽은 읽기 전용역할을 하고 FK를 관리하지 않는다

```
@Entity
public class User {
    @Id @GeneratedValue
    private Long id;

    @ManyToOne
    @JoinColumn(name = "team_id") // FK 관리 = 연관관계의 주인
    private Team team;
}

@Entity
public class Team {
    @Id @GeneratedValue
    private Long id;

    @OneToMany(mappedBy = "user") // 주인이 아님 User.team 필드에 의해 매핑됨
    private List<User> users = new ArrayList<>();
}
```

<br/>

**쓰는 이유**
- @OneToMany에 mappedBy를 쓰지 않게 되면 JAP가 별도의 조인 테이블을 만들어버린다.
- mappedBy를 사용함으로써 외래키 관리를 하지 않는다는 의미가 된다
- 객체 탐색을 양방향으로 가능하게 해주지만 데이터 변경은 주인 쪽에서만 이루어진다
- 잘못 매핑하면 불필요한 SQL이 발생한다
- 주인만 외래키를 관리하도록 해서 SQL을 최소화한다





---
### ✅ 한줄로 설명 하기
- 양방향 관계에서 주인이 아님을 명시하여 불필요한 조인 테이블과 SQL을 방지하는 속성이다.
