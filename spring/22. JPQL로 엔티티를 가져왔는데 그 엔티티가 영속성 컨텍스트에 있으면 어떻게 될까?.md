## 22. JPQL로 엔티티를 가져왔는데 그 엔티티가 영속성 컨텍스트에 있으면 어떻게 될까?

### 🧠 개념 설명
**JPQL**
- Java Persistence Query Language
- 엔티티 객체를 대상으로 하는 객체지향 쿼리 언어
- DB 테이블이 아니라 엔티티와 그 필드를 기준으로 조회하고 조작한다
- 실행할때 JPA가 JPQL을 SQL로 변환해서 DB에 전달한다


**JPQL로 조회한 엔티티와 영속성 컨텍스트**
- 동작과정
  - 1. JPQL -> SQL 변환후 DB에서 데이터 조회
    2. 조회결과를 엔티티 객체로 매핑
    3. 하지만 영송석 컨텍스트에 이미 존재하는 엔티티라면 DB에서 가져온 값을 무시하고 기존 엔티티를 반환한다
    4. 없다면 새로 엔티티를 생성해서 영속성 컨텍스트에 저장한다
- 이렇게 동작해서 엔티티 동일성 보장한다

---
### ✅ 한줄로 설명 하기
- 엔티티 객체를 대상으로 하는 객체지향 쿼리 언어이고
- JPQL로 조회할때 영속성 컨텍스트에 이미 있다면 DB 조회결과 대신 영속성 컨텍스트에 있는 것을 가져온다
