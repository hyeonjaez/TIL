## 16. @IdClass vs @EmbeddedId

### 🧠 개념 설명
- 둘다 복합키를 매핑할때 사용하는 방식이다.
- 복합키를 PK를 사용한다는 점이 공통점이다.


**IdClass**
- 엔티티 클래스에서 @Id를 각 PK 필드에 붙이고
- 별도의 PK 전용 클래스를 만들어서 사용한다.

```java
// 복합키 클래스 (반드시 equals & hashCode 구현)
public class OrderId implements Serializable {
    private Long orderId;
    private Long productId;
    
    // 기본 생성자, equals, hashCode 필수
}

// 엔티티
@Entity
@IdClass(OrderId.class)
public class Order {
    @Id
    private Long orderId;

    @Id
    private Long productId;

    private int quantity;
}
```
- entity 자체가 PK 필드를 직접 가진다.
- 단순하게 키 정의 하는 역할을 한다





<br/>

**EmbeddedId**
- 복합키를 하나의 값 객체로 만들어서 엔티티에 포함시킨다

```java
// 복합키 클래스
@Embeddable
public class OrderId implements Serializable {
    private Long orderId;
    private Long productId;
    
    // 기본 생성자, equals, hashCode 필수
}

// 엔티티
@Entity
public class Order {
    @EmbeddedId
    private OrderId id;

    private int quantity;
}
```
- 복합키 자체를 객체로 묶어서 관리
- 엔티티에서 PK 필드가 id 하나로 단순화한다
- 키 관련 로직을 OrderId 안에 모아 둘수 있다

---
### ✅ 한줄로 설명 하기

- @IdClass는 엔티티에 PK 필드를 직접 정의하는 방식, @EmbeddedId는 복합키를 하나의 값 객체로 캡슐화해서 사용하는 방식.


