## 16. @IdClass vs @EmbeddedId

### ğŸ§  ê°œë… ì„¤ëª…
- ë‘˜ë‹¤ ë³µí•©í‚¤ë¥¼ ë§¤í•‘í• ë•Œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤.
- ë³µí•©í‚¤ë¥¼ PKë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ì ì´ ê³µí†µì ì´ë‹¤.


**IdClass**
- ì—”í‹°í‹° í´ë˜ìŠ¤ì—ì„œ @Idë¥¼ ê° PK í•„ë“œì— ë¶™ì´ê³ 
- ë³„ë„ì˜ PK ì „ìš© í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•œë‹¤.

```java
// ë³µí•©í‚¤ í´ë˜ìŠ¤ (ë°˜ë“œì‹œ equals & hashCode êµ¬í˜„)
public class OrderId implements Serializable {
    private Long orderId;
    private Long productId;
    
    // ê¸°ë³¸ ìƒì„±ì, equals, hashCode í•„ìˆ˜
}

// ì—”í‹°í‹°
@Entity
@IdClass(OrderId.class)
public class Order {
    @Id
    private Long orderId;

    @Id
    private Long productId;

    private int quantity;
}
```
- entity ìì²´ê°€ PK í•„ë“œë¥¼ ì§ì ‘ ê°€ì§„ë‹¤.
- ë‹¨ìˆœí•˜ê²Œ í‚¤ ì •ì˜ í•˜ëŠ” ì—­í• ì„ í•œë‹¤





<br/>

**EmbeddedId**
- ë³µí•©í‚¤ë¥¼ í•˜ë‚˜ì˜ ê°’ ê°ì²´ë¡œ ë§Œë“¤ì–´ì„œ ì—”í‹°í‹°ì— í¬í•¨ì‹œí‚¨ë‹¤

```java
// ë³µí•©í‚¤ í´ë˜ìŠ¤
@Embeddable
public class OrderId implements Serializable {
    private Long orderId;
    private Long productId;
    
    // ê¸°ë³¸ ìƒì„±ì, equals, hashCode í•„ìˆ˜
}

// ì—”í‹°í‹°
@Entity
public class Order {
    @EmbeddedId
    private OrderId id;

    private int quantity;
}
```
- ë³µí•©í‚¤ ìì²´ë¥¼ ê°ì²´ë¡œ ë¬¶ì–´ì„œ ê´€ë¦¬
- ì—”í‹°í‹°ì—ì„œ PK í•„ë“œê°€ id í•˜ë‚˜ë¡œ ë‹¨ìˆœí™”í•œë‹¤
- í‚¤ ê´€ë ¨ ë¡œì§ì„ OrderId ì•ˆì— ëª¨ì•„ ë‘˜ìˆ˜ ìˆë‹¤

---
### âœ… í•œì¤„ë¡œ ì„¤ëª… í•˜ê¸°

- @IdClassëŠ” ì—”í‹°í‹°ì— PK í•„ë“œë¥¼ ì§ì ‘ ì •ì˜í•˜ëŠ” ë°©ì‹, @EmbeddedIdëŠ” ë³µí•©í‚¤ë¥¼ í•˜ë‚˜ì˜ ê°’ ê°ì²´ë¡œ ìº¡ìŠí™”í•´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹.


