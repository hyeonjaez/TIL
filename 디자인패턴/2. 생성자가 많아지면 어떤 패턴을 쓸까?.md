## 2. 생성자가 많아지면 어떤 패턴을 쓸까?

### 🧠 개념 설명
- Builder 패턴을 쓴다.

**생성자가 많으면 안되는이유**
```java
public class Pizza {
    private final String dough;      
    private final String sauce;      
    private final String topping;    
    private final String cheese;     
    private final String seasoning;

    // 필수 재료만 받는 생성자
    public Pizza(String dough, String sauce) {
        this(dough, sauce, null);
    }

    // 토핑 추가
    public Pizza(String dough, String sauce, String topping) {
        this(dough, sauce, topping, null);
    }

    // 치즈 추가
    public Pizza(String dough, String sauce, String topping, String cheese) {
        this(dough, sauce, topping, cheese, null);
    }

    // 시즈닝까지 모두 받는 생성자
    public Pizza(String dough, String sauce, String topping, String cheese, String seasoning) {
        this.dough = dough;
        this.sauce = sauce;
        this.topping = topping;
        this.cheese = cheese;
        this.seasoning = seasoning;
    }
```

1. 텔레스코핑 패턴
  - 선택할 파라미터가 늘어날 때마다 생성자를 추가하는 패턴이다.

  - 파라미터가 많아질수록 생성자가 증가함
  - 코드 가독성
  - 파라미터 순서 실수가 많아진다
  - 생성자 호출이 복잡해진다.

<br/>

**Builder 패턴**
```java
public class Pizza {
    private final String dough;      
    private final String sauce;      
    private final String topping;    
    private final String cheese;     
    private final String seasoning;  

    // private 생성자
    private Pizza(Builder builder) {
        this.dough = builder.dough;
        this.sauce = builder.sauce;
        this.topping = builder.topping;
        this.cheese = builder.cheese;
        this.seasoning = builder.seasoning;
    }

    // 정적 빌더 클래스
    public static class Builder {
        // 필수 매개변수
        private final String dough;
        private final String sauce;

        // 선택 매개변수 - 기본값으로 초기화
        private String topping = "";
        private String cheese = "";
        private String seasoning = "";

        // 필수 매개변수만을 받는 빌더 생성자
        public Builder(String dough, String sauce) {
            this.dough = dough;
            this.sauce = sauce;
        }

        // 선택 매개변수의 setter 메서드들
        public Builder topping(String topping) {
            this.topping = topping;
            return this;
        }

        public Builder cheese(String cheese) {
            this.cheese = cheese;
            return this;
        }

        public Builder seasoning(String seasoning) {
            this.seasoning = seasoning;
            return this;
        }

        // 빌드 메서드
        public Pizza build() {
            return new Pizza(this);
        }
    }
}
```


- 객체 생성을 유연하고 가독성 있게 만드는 패턴

**Builder 패턴 사용 이유**
  - 가독성이 좋아진다. -> 메서드 체이닝으로 의도가 명확하다.
  - 파라미터 순서가 상광없어짐
  - 필요한 값만 설정 가능
  - 불변성 보장
    - 모든 필드가 final로 선언되어 있다.
    - setter()가 없다.

<br/>

**Builder 패턴의 단점은?**
- 코드량이 증가한다.
- 객체 생성 과정이 복잡하다
  - 빌더 객체를 만들고 -> 필드를 설정 -> build()를 호출하는 과정이 필요하다
  - 만약 필드수가 적은 단순한 객체에서는 오히려 과하다고 본다
 
- 추가 객체 생성 비용이 증가한다.
  - static inner class 가 추가되어서 객체 생성 과정에서 추가 메모리 할당이 발생한다.
  
---
### ✅ 한줄로 설명 하기
- 생성자가 많아질 때 텔레스코핑 패턴 문제로 선택할 파라미터가 많아질수록 그만큼 생성자가 많아져서 가독성과 호출할때 파라미터 순서 실수, 복잡성이 높아져서 Builder 패턴을 사용하는데 Builder 패턴을 사용하면 이런 문제를 해결하고 불변 객체를 만들수 있다.
